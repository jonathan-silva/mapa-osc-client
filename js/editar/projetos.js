"use strict";var _createClass=function(){function o(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,a,t){return a&&o(e.prototype,a),t&&o(e,t),e}}();function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var Projeto=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getFonteDeRecursosProjeto",value:function(e){return{id:"fonte_recursos",dados:e[Object.keys(e)[0]]}}},{key:"montarProjetos",value:function(e,a){var t=[],o=a.validateObject(e.projeto_abreviado,[]);t.push({id:"lista_projetos",priority:"2",text:"Projetos, atividades e programas - PAP"});for(var r=3,n=o.length,l=new Array(n),i=0;i<o.length;i++)l[i]=new Array(r),l[i][0]=a.validateObject(o[i].id_projeto,1),l[i][1]=a.validateObject(o[i].tx_nome_projeto,""),l[i][2]="<span className='input-group-btn'><button id='rem_projeto2' className='btn-danger btn'>Remover Projeto</button></span>";t.push(l);for(r=3,n=o.length,l=new Array(n),i=0;i<o.length;i++)l[i]=new Array(r),l[i][0]=a.validateObject(o[i].id_projeto,1),l[i][1]=a.validateObject(o[i].tx_nome_projeto,""),l[i][2]="<span className='input-group-btn'><button id='rem_projeto2' className='btn-danger btn'>Remover Projeto</button></span>";return t.push(l),t}},{key:"montarProjeto",value:function(e,a,t,o){var r,n=t.labelsProjeto(),l=[],i=(e.id_projeto,a.validateObject(e.projeto,e)),c=(e=a.validateObject(i[0],i),a.validateObject(e.ft_identificador_projeto_externo,null)),s=a.validateObject(e.objetivo_meta,null),u=this.getFonteDeRecursosProjeto(a.validateObject(e.fonte_recursos,[]));for(var p in u.dados=a.validateObject(e.fonte_recursos,[]),e)if("tipo_parceria"!=p&&"fonte_recursos"!=p&&"area_atuacao"!=p&&"osc_parceira"!=p&&"area_atuacao_outra"!=p){if(e.hasOwnProperty(p)&&void 0!==n[p]){var d=p,j=e[p],v=(c=e[p.replace(/tx_|dt_|nr_|cd_/g,"ft_")],n[p].header),_=n[p].containerClass,b=n[p].removable,f=n[p].type,g=n[p].options,h=n[p].placeholder,O=n[p].infoTitle,m=null,y=!1;if(null===j||j.constructor!==Array){var P=a.InputProjeto(d,j,f,g,b,m,y,h,r,c,s,null,O),A=a.AgrupadorDeInputs(d,_,v,[P],m,g,null,O);l.push(A)}}}else if("tipo_parceria"==p){d=p,j=e[p],c=e[p.replace(/tx_|dt_|nr_|cd_/g,"ft_")],v=n[p].header,_=n[p].containerClass,b=n[p].removable,f=n[p].type,g=n[p].options,h=n[p].placeholder,O=n[p].infoTitle,m=null,y=!1,P=a.InputProjeto(d,j,f,g,b,m,y,h,r,c,null,null,O),A=a.AgrupadorDeInputs(d,_,v,[P],m,g,null,O);l.push(A)}if(e.hasOwnProperty("fonte_recursos")){d=u.id,j=u.dados,c=null;0<u.dados.length&&(c=u.dados[0].ft_fonte_recursos_projeto);v=n[d].header,_=n[d].containerClass,b=n[d].removable,f=n[d].type,g=n[d].options,h=n[d].placeholder,O=n[d].infoTitle,m=null,y=!1,P=a.InputProjeto(d,j,f,g,b,m,y,h,r,c,null,null,O),A=a.AgrupadorDeInputs(d,_,v,[P],m,g,null,O);l.push(A)}a.validateObject(e.area_atuacao,[]);for(var I=a.validateObject(e.area_atuacao_outra,[]),T=a.validateObject(e.localizacao,[]),C=a.getTipoProjeto("localizacao_projeto",T),k=a.validateObject(e.publico_beneficiado,[]),w=a.getTipoProjeto("publico_beneficiado",k),x=a.validateObject(e.financiador_projeto,[]),D=a.getTipoProjeto("financiador_projeto",x),E=(I=a.getTipoProjeto("area_atuacao_outra",I),a.validateObject(e.osc_parceira,[])),R=a.getTipoProjeto("osc_parceira",E),N=e.osc_parceira?e.osc_parceira.length:0,z=0;z<N;z++)a.validateObject(e.osc_parceira[z].id_osc,null);a.validateObject(e.objetivo_meta)&&e.objetivo_meta.id_objetivo_projeto;for(var F=[C,w,D,R],M=0;M<F.length;M++)if(a.validateObject(F[M].dados,!1)){var B=this.createAgrupadorMultipleInputs(F[M],n,a);l.push(B)}var G=t.getEmptyProject(),$=[];for(var q in G)for(z=0;z<l.length;z++)if(l[z].id==q){$.push(l[z]);break}return $}},{key:"carregaProjeto",value:function(e,a,t,o,r){var n={},l=null;if(r){var i=a.getEmptyProject();n.agrupadores=this.montarProjeto(i,o,a,t)}else $.ajax({url:t.ProjectByID(e),type:"GET",async:!1,dataType:"json",error:function(e){console.log("Erro no ajax: "),console.log(e)},success:function(e){n.projeto=e}}),l=this.montarProjeto(n.projeto,o,a,t),n.agrupadores=l;return n}},{key:"createAgrupadorMultipleInputs",value:function(e,a,t){var o={type:"remove",value:"Remover"},r={type:"add",value:"Adicionar"},n=e.id,l=a[e.id],i=[],c="",s=t.validateObject(l)?l.removable:"",u=t.validateObject(l)?l.type:"",p=t.validateObject(l)?l.options:"",d=t.validateObject(l)?l.custom_class:"",j=t.validateObject(l)?l.infoTitle:"",v=null,_=!1,b="Insira a informação";if(s&&(v=[o],A=[r],_=!0),0===e.dados.length){var f=n;c="";var g=t.InputProjeto(f,c,u,p,s,v,_,b,null,null,null,d,j);i.push(g)}for(var h=0;h<e.dados.length;h++){f=n;for(var O in e.dados[h])if(e.dados[h].hasOwnProperty(O)&&"tx"===O.slice(0,2)){c=e.dados[h][O];var m=e.dados[h].cd_area_atuacao_projeto;g=t.InputProjeto(f,c,u,p,s,v,_,b,null,null,m,d,j);i.push(g)}}var y=t.validateObject(l)?l.header:"",P=t.validateObject(l)?l.containerClass:"col-md-3",A=null;return s&&(v=[o],A=[r]),t.AgrupadorDeInputs(n,P,y,i,A,p,d,j)}}]),e}();