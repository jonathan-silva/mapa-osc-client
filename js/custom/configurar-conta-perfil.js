"use strict";function validaNome(e){return!(e.length<5)}function validaEmail(e){var o=e.substring(0,e.indexOf("@")),a=e.substring(e.indexOf("@")+1,e.length);return 1<=o.length&&3<=a.length&&-1==o.search("@")&&-1==a.search("@")&&-1==o.search(" ")&&-1==a.search(" ")&&-1!=a.search(".")&&1<=a.indexOf(".")&&a.lastIndexOf(".")<a.length-1}function validaEmailGov(e){var o=e.substring(0,e.indexOf("@")),a=e.substring(e.indexOf("@")+1,e.length);return 1<=o.length&&3<=a.length&&-1==o.search("@")&&-1==a.search("@")&&-1==o.search(" ")&&-1==a.search(" ")&&-1!=a.search(".")&&1<=a.indexOf(".")&&a.lastIndexOf(".")<a.length-1&&-1!=a.indexOf("gov")}function getErrorMessage(e,o){return 0===e.status?"Not connect.\n Verify Network.":404==e.status?"Requested page not found. [404]":500==e.status?"Internal Server Error [500].":"parsererror"===o?"Requested JSON parse failed.":"timeout"===o?"Time out error.":"abort"===o?"Ajax request aborted.":"Uncaught Error.\n"+e.responseText}function replaceSpecialChars(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/[ÀÁÂÃÄÅ]/g,"A")).replace(/[àáâãäå]/g,"a")).replace(/[ÉÈÊË]/g,"E")).replace(/[éèêë]/g,"e")).replace(/[ÍÌÎÏ]/g,"I")).replace(/[íìîï]/g,"i")).replace(/[ÓÒÔÕ]/g,"O")).replace(/[óòôõ]/g,"o")).replace(/[ÚÙÛÜ]/g,"U")).replace(/[úùûü]/g,"u")).replace(/[Ç]/g,"C")).replace(/[ç]/g,"c")}require(["jquery-ui"],function(e){$(document).tooltip({position:{my:"center bottom-20",at:"center top",using:function(e,o){$(this).css(e),$("<div>").addClass("arrow").addClass(o.vertical).addClass(o.horizontal).appendTo(this)}}}),jQuery(document).ready(function(o){o(".scroll").click(function(e){e.preventDefault(),o("html,body").animate({scrollTop:o(this.hash).offset().top},800)})}),$(".captcha iframe").attr("title","")}),require(["react","jsx!components/Util"],function(e){require(["jquery-ui","rotas","jquery","libs/jquery-mask/jquery.mask.min"],function(e){var d=window.localStorage.getItem("User"),o=window.localStorage.getItem("Authorization"),u={},a={User:d,Authorization:o};u.headers=a;var h=new Rotas,p=$("#modalMensagem");$.ajax({url:h.ValidarUsuario(d),type:"GET",dataType:"json",success:function(e){$("#tx_nome_representante").val(e.tx_nome_usuario),$("#tx_email").val(e.tx_email_usuario),$("#tx_cpf").text(e.nr_cpf_usuario),$("#tx_orgao_trabalha").val(e.tx_orgao_trabalha),$("#tx_telefone1").val(e.tx_telefone_1),$("#tx_telefone2").val(e.tx_telefone_2),$("#tx_registro_institucional").val(e.tx_dado_institucional),$("#tx_email_confirmacao").text(e.tx_email_confirmacao),$("#tx_localidade").text(e.localidade),e.bo_lista_atualizacao_trimestral?$("#pedido_atualizacao_trimestral").prop("checked",!0):$("#pedido_atualizacao_trimestral").prop("checked",!1),e.bo_lista_email?$("#newsletter").prop("checked",!0):$("#newsletter").prop("checked",!1)},error:function(e){$("#modalMensagem").modal({backdrop:"static",keyboard:!1}),$("#modalTitle").text("Erro"),$("#modalConteudo").text("É necessário estar logado no sistema para acessar essa página."),$(".modal-footer button").on("click",function(){history.go(-1)}),$("#modalMensagem").modal("show")}}),$("#tx_nome_representante.form-control").blur(function(e,o){var a="";validaNome(this.value)?(a="#"+$("#tx_nome_representante.form-control").attr("id"),$("#tx_nome_representante.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"),$(a).removeClass("glyphicon-remove").addClass("glyphicon-ok")):(a="#"+$("#tx_nome_representante.form-control").attr("id"),$("#tx_nome_representante.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(a).removeClass("glyphicon-ok").addClass("glyphicon-remove"))}),$("#tx_email.form-control").blur(function(e,o){var a="";validaEmail(this.value.toLowerCase())?(a="#"+$("#tx_email.form-control").attr("id"),$("#tx_email.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"),$(a).removeClass("glyphicon-remove").addClass("glyphicon-ok")):(a="#"+$("#tx_email.form-control").attr("id"),$("#tx_email.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(a).removeClass("glyphicon-ok").addClass("glyphicon-remove"))}),$("#tx_senha.form-control").blur(function(e,o){6<=this.value.length?$("#tx_senha.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"):$("#tx_senha.form-control").closest(".form-group").removeClass("has-success").addClass("has-error")}),$("#tx_confirmar_senha.form-control").blur(function(e,o){var a=this.value;a==$("#tx_senha").val()&&6<=a.length?($("#tx_senha.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"),$("#tx_confirmar_senha.form-control").closest(".form-group").removeClass("has-error").addClass("has-success")):($("#tx_senha.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$("#tx_confirmar_senha.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"))});var t=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},r={onKeyPress:function(e,o,a,r){a.mask(t.apply({},arguments),r)}};$("#tx_telefone1").mask(t,r),$("#tx_telefone2").mask(t,r),$(".form-group").find(".btn.btn-success").on("click",function(){if(0==grecaptcha.getResponse().length)return jQuery("#labelCaptcha").text("Resolver o Captcha."),!1;jQuery("#labelCaptcha").text("");var e="",o=$("#tx_nome_representante").val(),a=$("#tx_email").val().toLowerCase(),r=$("#tx_orgao_trabalha").val(),t=$("#tx_telefone1").val(),s=$("#tx_telefone2").val(),l=$("#tx_senha").val(),n=$("#tx_confirmar_senha").val(),i=$("#tx_registro_institucional").val(),c=!1;c=!!$("#newsletter").is(":checked");var m=!1;return m=!!$("#pedido_atualizacao_trimestral").is(":checked"),validaNome(o)?validaEmail(a)?""==l||l!=n||l.length<6?(e="#"+$("#tx_senha.form-control").attr("id")+"1",$("#tx_senha.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(e).removeClass("glyphicon-ok").addClass("glyphicon-remove"),e="#"+$("#tx_confirmar_senha.form-control").attr("id")+"1",$("#tx_confirmar_senha.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(e).removeClass("glyphicon-ok").addClass("glyphicon-remove"),jQuery("#modalTitle").text("Problema no cadastro!"),l.length<6?jQuery("#modalConteudo").text("Senha deve conter mínimo 6 caracteres."):jQuery("#modalConteudo").text("Os valores da senha e da confirmação são diferentes."),p.modal("show"),!1):(u.id_usuario=d,u.tx_email_usuario=a,u.tx_senha_usuario=l,u.tx_nome_usuario=o,u.tx_orgao_usuario=r,u.tx_telefone_1=t,u.tx_telefone_2=s,u.bo_lista_email=c,u.bo_lista_atualizacao_trimestral=m,u.tx_dado_institucional=i,void $.ajax({url:h.UpdateUsuarioGov(d),type:"POST",dataType:"json",data:u,success:function(e){$("#modalTitle").text("Sucesso"),$("#modalConteudo").text("Sua atualização foi realizada com sucesso."),$("#modalMensagem").modal("show"),window.localStorage.setItem("Authorization",e.access_token),window.localStorage.setItem("Nome",e.tx_nome_usuario),$(".menuLogado_EM .dropdown-toggle").html(""),$(".menuLogado_EM .dropdown-toggle").append(e.tx_nome_usuario),$(".menuLogado_EM .dropdown-toggle").append(' <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>')},error:function(e){console.log(e)}})):(e="#"+$("#tx_email.form-control").attr("id")+"1",$("#tx_email.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(e).removeClass("glyphicon-ok").addClass("glyphicon-remove"),!1):(e="#"+$("#tx_nome_representante.form-control").attr("id")+"1",$("#tx_nome_representante.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(e).removeClass("glyphicon-remove").addClass("glyphicon-ok"),!1)})})});var jsonModalAjuda={"Email de Confirmação":'Email institucional (gov.br) da chefia imediata ou de superior mais próximo que possua email <b>".gov.br"</b>.<br>Caso o Estado ou Município não possua email institucional, informe pelo email mapaosc@ipea.com.br.',"Registro Institucional":"Um registro que comprove a vinculação do representante do Estado ou Município com o ente federativo. Sugere-se utilizar o número de matrícula do servidor ou identificador similar. Não Obrigatório.","Órgão em que Trabalha":"Informar o setor que trabalha e a Secretaria Estadual ou Municipal à qual está vinculado/a.",Email:'Email institucional do/a responsável por encaminhar ao Mapa das OSCs o banco de dados com as parcerias entre OSCs e o governo estadual/municipal. Solicitamos, preferencialmente, um contato institucional terminado em <b>".gov.br"</b>.<br>Caso não seja possível, pode-se utilizar o email pessoal para efetuar o cadastro.',Senha:"A senha deve conter no mínimo <b>6</b> caracteres."};function abrirModalAjuda(e){acionarModalAjuda("Ajuda - "+e,jsonModalAjuda[e],"<button type='button' class='btn btn-danger' data-dismiss='modal'>Fechar</button>")}function acionarModalAjuda(e,o,a){$("#modalTitulo").html(""),$("#modalTitulo").html(e),$("#corpoModal").html(""),$("#corpoModal").html(o),$("#btnFooter").html(""),$("#btnFooter").html(a),$("#modalAjuda").modal("show"),verificarContraste()}