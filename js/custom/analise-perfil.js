"use strict";require(["jquery-ui"],function(a){$("#tabs").tabs().addClass("ui-tabs-vertical ui-helper-clearfix"),$("#tabs li").removeClass("ui-corner-top").addClass("ui-corner-left"),$(document).tooltip({position:{my:"center bottom-20",at:"center top",using:function(a,e){$(this).css(a),$("<div>").addClass("arrow").addClass(e.vertical).addClass(e.horizontal).appendTo(this)}}}),jQuery(document).ready(function(e){e(".scroll").click(function(a){a.preventDefault(),e("html,body").animate({scrollTop:e(this.hash).offset().top},800)})})}),require(["rotas","nv.d3.lib","graficoParaTabela"],function(a){var e=new Rotas;$("#voltaPagAnterior").on("click",function(){history.go(-1)});var o,t=void 0!==window.location.href.split("?")[1]?window.location.href.split("?")[1].split("="):null,r="";function s(a){var e=". ";return null!=a&&(e=a.join(", ").replace(/'/gi,""),e+=". "),"Fonte: "+e}function n(a,e){var o=a.toLowerCase(),t="do "+o;return 1==e&&(t="O "+o),"região"==o&&(t="da "+o,1==e&&(t="A "+o)),t}null!==t&&(r=t[1],o=r,$("#voltaPerfil").attr("href","analise-perfil.html?localidade="+o)),$.ajax({url:e.RecuperarPerfilByIDLocalidade(r),type:"GET",dataType:"json",error:function(a){console.log("ERRO no AJAX :"+a),$(".manutencao").css("display","block"),$(".loading").addClass("hide"),$(".tela").addClass("hide")},success:function(a){$("#tx_localidade").text(a.tx_localidade),$("#tabela caption").text(s(a.caracteristicas.fontes));var e='<h5><a id="tabela-p1" class="btn-item" data-toggle="modal" title="Mostrar os dados em Tabela.">Visualize os dados em tabela.</a></h5>';$("#tabela caption").append(e);var o="<tr>";o+="<td>"+a.caracteristicas.nr_quantidade_oscs.toLocaleString("pt-BR")+"</td>",o+="<td>"+a.caracteristicas.nr_quantidade_trabalhadores.toLocaleString("pt-BR")+"</td>",o+="<td>"+formatarDinheiro(a.caracteristicas.nr_quantidade_recursos)+"</td>",o+="<td>"+a.caracteristicas.nr_quantidade_projetos.toLocaleString("pt-BR")+"</td>",o+="</tr>",$("#tabela tbody").append(o),e="<p>"+a.tx_localidade+" é o <b>"+a.evolucao_quantidade_osc_ano.nr_colocacao_nacional+"º</b> em relação a quantidade de OSCs no âmbito nacional. ",e+="Nesse ranking, o estado ("+a.evolucao_quantidade_osc_ano.tx_primeiro_colocado_estado+", <b>"+a.evolucao_quantidade_osc_ano.nr_quantidade_oscs_primeiro_colocado_estado.toLocaleString("pt-BR")+"</b> OSCs) ",e+="e o município ("+a.evolucao_quantidade_osc_ano.tx_primeiro_colocado_municipio+", <b>"+a.evolucao_quantidade_osc_ano.nr_quantidade_oscs_primeiro_colocado_municipio.toLocaleString("pt-BR")+"</b> OSCs) são os que contêm mais OSCs. ",e+="O estado ("+a.evolucao_quantidade_osc_ano.tx_ultimo_colocado_estado[0]+") e o município ("+a.evolucao_quantidade_osc_ano.tx_ultimo_colocado_municipio[0]+") ",e+="são os que contêm menos OSCs, <b>"+a.evolucao_quantidade_osc_ano.nr_quantidade_oscs_ultimo_colocado_estado.toLocaleString("pt-BR")+"</b> e <b>"+a.evolucao_quantidade_osc_ano.nr_quantidade_oscs_ultimo_colocado_municipio.toLocaleString("pt-BR")+"</b> respectivamente.",e+="</p>",$("#tx_caracteristicas").append(e),(i={configuracao:["f","1","","f"],legenda_x:"Ano",legenda_y:"Quantidade OSC",titulo_colunas:["Evolução","Ano","Quantidade"],titulo:"Evolucao da quantidade OSCs por ano"}).fontes=a.evolucao_quantidade_osc_ano.fontes,i.legenda="",i.tipo_grafico="linechart",i.series_1=a.evolucao_quantidade_osc_ano.series_1,escolherGrafico("p1",i);e="<p>Na população de OSCs "+n(a.tx_tipo_localidade,2)+", <b>"+a.natureza_juridica.nr_porcentagem_maior+"%</b> são ";e+=a.natureza_juridica.tx_porcentagem_maior+". Enquanto, em relação a média nacional <b>"+a.natureza_juridica.nr_porcentagem_maior_media_nacional+"%</b> são ",e+=a.natureza_juridica.tx_porcentagem_maior_media_nacional,e+=".</p>",$("#tx_natureza_juridica").append(e),e='<h5 class="legenda_perfil">'+s(a.natureza_juridica.fontes)+"</h5>",e+='<h5><a id="tabela-p2" class="btn-item" data-toggle="modal" title="Mostrar os dados em Tabela.">Visualize os dados em tabela.</a></h5>',$("#tx_natureza_juridica").append(e),(i={configuracao:["f","1","","f"],legenda_x:"Natureza Jurídica",legenda_y:"Quantidade OSC",titulo_colunas:["Natureza Jurídica","Quantidade OSC"],titulo:"Número de OSCs por natureza jurídica"}).fontes=a.natureza_juridica.fontes,i.legenda="",i.tipo_grafico="barchart",i.series_1=a.natureza_juridica.series_1,escolherGrafico("p2",i);e="<p>"+a.tx_localidade+" é o <b>"+a.repasse_recursos.nr_colocacao_nacional+"º</b> em relação ao repasse de recursos, com média de <b>";if(e+=formatarDinheiro(a.repasse_recursos.nr_repasse_media)+"</b> por ano, enquanto a média nacional ficou em <b>"+formatarDinheiro(a.repasse_recursos.nr_repasse_media_nacional)+"</b>. ",null!=a.repasse_recursos.tx_maior_tipo_repasse[0]&&(e+="A entidade que mais repassou foi "+a.repasse_recursos.tx_maior_tipo_repasse+", chegando a <b>"+a.repasse_recursos.nr_porcentagem_maior_tipo_repasse+"%</b> dos valores."),e+="</p>",$("#tx_repasse_recursos").append(e),e='<h5 class="legenda_perfil">'+s(a.natureza_juridica.fontes)+"</h5>",e+='<h5><a id="tabela-p3" class="btn-item" data-toggle="modal" title="Mostrar os dados em Tabela.">Visualize os dados em tabela.</a></h5>',$("#tx_repasse_recursos").append(e),(i={configuracao:["f","1000","","f"],legenda_x:"Ano",legenda_y:"Recursos (em milhares R$)",titulo_colunas:["Repasse","Ano","Recursos (em milhares R$)"],titulo:"Evolução de recursos transferidos para OSCs"}).fontes=a.repasse_recursos.fontes,i.legenda="",i.tipo_grafico="linechart",null!=a.repasse_recursos.series_1)i.series_1=a.repasse_recursos.series_1;else{var t=(new Date).getFullYear(),r=[{tipo_valor:"$",values:[{x:t,y:0}],key:"Recursos próprios"},{tipo_valor:"$",values:[{x:t,y:0}],key:"Recursos públicos"},{tipo_valor:"$",values:[{x:t,y:0}],key:"Recursos privados"},{tipo_valor:"$",values:[{x:t,y:0}],key:"Recursos não financeiros"}];i.series_1=r}escolherGrafico("p3",i);e="<p>"+a.tx_localidade+" contém <b>"+a.area_atuacao.nr_porcentagem_maior+"%</b> das OSCs atuando em "+a.area_atuacao.tx_porcentagem_maior;e+=". Enquanto a média nacional está com <b>"+a.area_atuacao.nr_porcentagem_maior_media_nacional+"%</b> relacionada a atividade econômica ",e+=a.area_atuacao.tx_porcentagem_maior_media_nacional,e+=".</p>",$("#tx_area_atuacao").append(e),e='<h5 class="legenda_perfil">'+s(a.natureza_juridica.fontes)+"</h5>",e+='<h5><a id="tabela-p4" class="btn-item" data-toggle="modal" title="Mostrar os dados em Tabela.">Visualize os dados em tabela.</a></h5>',$("#tx_area_atuacao").append(e),(i={configuracao:["f","1","","f"],legenda_x:"Atividade Econômica",legenda_y:"Quantidade OSC",titulo_colunas:["Atividade Econômica","Quantidade OSC"],titulo:"Distribuição de OSCs por área de atuação"}).fontes=a.area_atuacao.fontes,i.legenda="",i.tipo_grafico="donutchart",i.series_1=a.area_atuacao.series_1,escolherGrafico("p4",i);var i;e="<p>"+n(a.tx_tipo_localidade,1)+" possui <b>"+a.trabalhadores.nr_porcentagem_maior+"%</b> de ";e+=a.trabalhadores.tx_porcentagem_maior+". Enquanto a média nacional apresenta <b>"+a.trabalhadores.nr_porcentagem_maior_media_nacional+"%</b> de ",e+=a.trabalhadores.tx_porcentagem_maior_media_nacional,e+="</p>",$("#tx_trabalhadores").append(e),e='<h5 class="legenda_perfil">'+s(a.natureza_juridica.fontes)+"</h5>",e+='<h5><a id="tabela-p5" class="btn-item" data-toggle="modal" title="Mostrar os dados em Tabela.">Visualize os dados em tabela.</a></h5>',$("#tx_trabalhadores").append(e),(i={configuracao:["f","1","","f"],legenda_x:"Tipo",legenda_y:"Número de trabalhadores",titulo_colunas:["Tipo","Número de trabalhadores"],titulo:"Distribuição de trabalhodores"}).fontes=a.trabalhadores.fontes,i.legenda="",i.tipo_grafico="barchart",i.series_1=a.trabalhadores.series_1,escolherGrafico("p5",i),$(".dt_pub_news").before($(".social")),$(".social").css("display","flex"),$(".loading").addClass("hide"),$(".social iframe").each(function(){$(this).attr("title","")})}})});