"use strict";function validaNome(o){return!(o.length<5)}function validaEmail(o){var e=o.substring(0,o.indexOf("@")),a=o.substring(o.indexOf("@")+1,o.length);return 1<=e.length&&3<=a.length&&-1==e.search("@")&&-1==a.search("@")&&-1==e.search(" ")&&-1==a.search(" ")&&-1!=a.search(".")&&1<=a.indexOf(".")&&a.lastIndexOf(".")<a.length-1}function validaEmailGov(o){var e=o.substring(0,o.indexOf("@")),a=o.substring(o.indexOf("@")+1,o.length);return 1<=e.length&&3<=a.length&&-1==e.search("@")&&-1==a.search("@")&&-1==e.search(" ")&&-1==a.search(" ")&&-1!=a.search(".")&&1<=a.indexOf(".")&&a.lastIndexOf(".")<a.length-1&&-1!=a.indexOf("gov")}function validaCPF(cpf){var exp=/\.|\-/g;cpf=cpf.toString().replace(exp,"");for(var digitoDigitado=eval(cpf.charAt(9)+cpf.charAt(10)),soma1=0,soma2=0,vlr=11,i=0;i<9;i++)soma1+=eval(cpf.charAt(i)*(vlr-1)),soma2+=eval(cpf.charAt(i)*vlr),vlr--;soma1=10*soma1%11==10?0:10*soma1%11,soma2=10*(soma2+2*soma1)%11;var digitoGerado=10*soma1+soma2;return digitoGerado==digitoDigitado}function getErrorMessage(o,e){return 0===o.status?"Not connect.\n Verify Network.":404==o.status?"Requested page not found. [404]":500==o.status?"Internal Server Error [500].":"parsererror"===e?"Requested JSON parse failed.":"timeout"===e?"Time out error.":"abort"===e?"Ajax request aborted.":"Uncaught Error.\n"+o.responseText}function replaceSpecialChars(o){return o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=o.replace(/[ÀÁÂÃÄÅ]/g,"A")).replace(/[àáâãäå]/g,"a")).replace(/[ÉÈÊË]/g,"E")).replace(/[éèêë]/g,"e")).replace(/[ÍÌÎÏ]/g,"I")).replace(/[íìîï]/g,"i")).replace(/[ÓÒÔÕ]/g,"O")).replace(/[óòôõ]/g,"o")).replace(/[ÚÙÛÜ]/g,"U")).replace(/[úùûü]/g,"u")).replace(/[Ç]/g,"C")).replace(/[ç]/g,"c")}require(["jquery-ui"],function(o){$(document).tooltip({position:{my:"center bottom-20",at:"center top",using:function(o,e){$(this).css(o),$("<div>").addClass("arrow").addClass(e.vertical).addClass(e.horizontal).appendTo(this)}}}),jQuery(document).ready(function(e){e(".scroll").click(function(o){o.preventDefault(),e("html,body").animate({scrollTop:e(this.hash).offset().top},800)})})}),require(["react","jsx!components/Util"],function(o){require(["jquery-ui","rotas","jquery","libs/jquery-mask/jquery.mask.min"],function(o){var v=new Rotas,g=$("#modalMensagem"),r=!1,s=!1;$("#tx_nome_representante.form-control").blur(function(o,e){var a="";validaNome(this.value)?(a="#"+$("#tx_nome_representante.form-control").attr("id"),$("#tx_nome_representante.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"),$(a).removeClass("glyphicon-remove").addClass("glyphicon-ok")):(a="#"+$("#tx_nome_representante.form-control").attr("id"),$("#tx_nome_representante.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(a).removeClass("glyphicon-ok").addClass("glyphicon-remove"))}),$("#tx_email.form-control").blur(function(o,e){var a="";validaEmail(this.value.toLowerCase())?(a="#"+$("#tx_email.form-control").attr("id"),$("#tx_email.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"),$(a).removeClass("glyphicon-remove").addClass("glyphicon-ok")):(a="#"+$("#tx_email.form-control").attr("id"),$("#tx_email.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(a).removeClass("glyphicon-ok").addClass("glyphicon-remove"))}),$("#tx_email_confirmacao.form-control").blur(function(o,e){var a="";validaEmailGov(this.value.toLowerCase())?(a="#"+$("#tx_email_confirmacao.form-control").attr("id"),$("#tx_email_confirmacao.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"),$(a).removeClass("glyphicon-remove").addClass("glyphicon-ok")):(a="#"+$("#tx_email_confirmacao.form-control").attr("id"),$("#tx_email_confirmacao.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(a).removeClass("glyphicon-ok").addClass("glyphicon-remove"))}),$("#tx_cpf.form-control").blur(function(o,e){var a="";validaCPF(this.value)?(a="#"+$("#tx_cpf.form-control").attr("id"),$("#tx_cpf.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"),$(a).removeClass("glyphicon-remove").addClass("glyphicon-ok")):(a="#"+$("#tx_cpf.form-control").attr("id"),$("#tx_cpf.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(a).removeClass("glyphicon-ok").addClass("glyphicon-remove"))}),$("#tx_senha.form-control").blur(function(o,e){6<=this.value.length?$("#tx_senha.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"):$("#tx_senha.form-control").closest(".form-group").removeClass("has-success").addClass("has-error")}),$("#tx_confirmar_senha.form-control").blur(function(o,e){var a=this.value;a==$("#tx_senha").val()&&6<=a.length?($("#tx_senha.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"),$("#tx_confirmar_senha.form-control").closest(".form-group").removeClass("has-error").addClass("has-success")):($("#tx_senha.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$("#tx_confirmar_senha.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"))}),$("#tx_nome_municipio").autocomplete({minLength:1,source:function(o,e){$.ajax({url:v.AutocompleteOSCByCounty(replaceSpecialChars(o.term).replace(/ /g,"+"),25),type:"GET",async:!0,dataType:"json",success:function(o){e($.map(o,function(o){return{label:o.edmu_nm_municipio+" - "+o.eduf_sg_uf,value:o.edmu_nm_municipio+" - "+o.eduf_sg_uf,id:o.edmu_cd_municipio}}))},error:function(o){$("#tx_nome_municipio").val(""),$("#cd_municipio_id").val(""),$("#tx_nome_municipio").closest(".form-group").removeClass("has-success").addClass("has-error")}})},select:function(o,e){var a="";$("#tx_nome_municipio").val(e.item.value),$("#cd_municipio_id").val(e.item.id),l(e.item.id),r||s?(a="#"+$("#tx_nome_municipio.form-control").attr("id"),$("#tx_nome_municipio.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(a).removeClass("glyphicon-ok").addClass("glyphicon-remove")):(a="#"+$("#tx_nome_municipio.form-control").attr("id"),$("#tx_nome_municipio.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"),$(a).removeClass("glyphicon-remove").addClass("glyphicon-ok"))}}),$("#tx_nome_uf").autocomplete({minLength:1,source:function(o,e){$.ajax({url:controller,type:"GET",async:!0,dataType:"json",data:{flag:"autocomplete",rota:v.AutocompleteOSCByState(replaceSpecialChars(o.term).replace(/ /g,"+"),10)},success:function(o){e($.map(o,function(o){return{label:o.eduf_nm_uf,value:o.eduf_nm_uf,id:o.eduf_cd_uf}}))},error:function(){$("#tx_nome_uf").val(""),$("#cd_uf_id").val(""),$("#tx_nome_uf").closest(".form-group").removeClass("has-success").addClass("has-error")}})},select:function(o,e){var a="";$("#tx_nome_uf").val(e.item.value),$("#cd_uf_id").val(e.item.id),l(e.item.id),r||s?(a="#"+$("#tx_nome_uf.form-control").attr("id"),$("#tx_nome_uf.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(a).removeClass("glyphicon-ok").addClass("glyphicon-remove")):(a="#"+$("#tx_nome_uf.form-control").attr("id"),$("#tx_nome_uf.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"),$(a).removeClass("glyphicon-remove").addClass("glyphicon-ok"))}}),$("input:radio").change(function(){0==$(this).val()?($("#tx_nome_uf").parent().show(),$("#tx_nome_municipio").parent().hide(),$("#tx_nome_municipio").val(""),$("#cd_municipio_id").val("")):($("#tx_nome_municipio").parent().show(),$("#tx_nome_uf").parent().hide(),$("#tx_nome_uf").val(""),$("#cd_uf_id").val(""))}),$("#tx_nome_uf.form-control").blur(function(o,e){""==this.value&&$("#cd_uf_id").val(""),l($("#cd_uf_id").val());var a="";r||s?(a="#"+$("#tx_nome_uf.form-control").attr("id"),$("#tx_nome_uf.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(a).removeClass("glyphicon-ok").addClass("glyphicon-remove")):(a="#"+$("#tx_nome_uf.form-control").attr("id"),$("#tx_nome_uf.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"),$(a).removeClass("glyphicon-remove").addClass("glyphicon-ok"))}),$("#tx_nome_municipio.form-control").blur(function(o,e){""==this.value&&$("#cd_municipio_id").val(""),l($("#cd_municipio_id").val());var a="";r||s?(a="#"+$("#tx_nome_municipio.form-control").attr("id"),$("#tx_nome_municipio.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(a).removeClass("glyphicon-ok").addClass("glyphicon-remove")):(a="#"+$("#tx_nome_municipio.form-control").attr("id"),$("#tx_nome_municipio.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"),$(a).removeClass("glyphicon-remove").addClass("glyphicon-ok"))});var t=function(o){return 11===o.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},e={onKeyPress:function(o,e,a,r){a.mask(t.apply({},arguments),r)}};function l(o){$.ajax({url:v.ValidarLocalidade(o),type:"GET",async:!1,dataType:"json",error:function(o){s=!0},success:function(o){s=!1,r=o.resultado}})}$("#tx_telefone1").mask(t,e),$("#tx_telefone2").mask(t,e),$("#btnLimpar").on("click",function(){$("#conteudo input").each(function(){$(this).val("")}),$("input[type=checkbox]").each(function(){$(this).attr("checked",!1),$(this).prop("checked",!1)})}),$(".form-group").find(".btn.btn-success").on("click",function(){if(0==grecaptcha.getResponse().length)return jQuery("#labelCaptcha").text("Resolver o Captcha."),!1;jQuery("#labelCaptcha").text("");var o="",e=$("#tx_nome_representante").val(),a=$("#tx_email").val().toLowerCase(),r=$("#tx_cpf").val(),s=$("#tx_orgao_trabalha").val(),t=$("#tx_telefone1").val(),l=$("#tx_telefone2").val(),n=$("#tx_senha").val(),i=$("#tx_confirmar_senha").val(),c=$("#cd_municipio_id").val(),m=$("#cd_uf_id").val(),u=$("#tx_email_confirmacao").val(),d=$("#tx_registro_institucional").val(),f=!1;f=!!$("#termoUso").is(":checked");var p=!1;p=!!$("#newsletter").is(":checked");var h=!1;if(h=!!$("#pedido_atualizacao_trimestral").is(":checked"),!validaNome(e))return o="#"+$("#tx_nome_representante.form-control").attr("id")+"1",$("#tx_nome_representante.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(o).removeClass("glyphicon-remove").addClass("glyphicon-ok"),!1;if(!validaEmail(a))return o="#"+$("#tx_email.form-control").attr("id")+"1",$("#tx_email.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(o).removeClass("glyphicon-ok").addClass("glyphicon-remove"),!1;if(!validaCPF(r))return o="#"+$("#tx_cpf.form-control").attr("id")+"1",$("#tx_cpf.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(o).removeClass("glyphicon-ok").addClass("glyphicon-remove"),!1;if(""==n||n!=i||n.length<6)return o="#"+$("#tx_senha.form-control").attr("id")+"1",$("#tx_senha.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(o).removeClass("glyphicon-ok").addClass("glyphicon-remove"),o="#"+$("#tx_confirmar_senha.form-control").attr("id")+"1",$("#tx_confirmar_senha.form-control").closest(".form-group").removeClass("has-success").addClass("has-error"),$(o).removeClass("glyphicon-ok").addClass("glyphicon-remove"),jQuery("#modalTitle").text("Problema no cadastro!"),n.length<6?jQuery("#modalConteudo").text("Senha deve conter mínimo 6 caracteres."):jQuery("#modalConteudo").text("Os valores da senha e da confirmação são diferentes."),g.modal("show"),!1;if(!f)return o="#"+$("#termoUso.form-control").attr("id")+"1",$("#termoUso.form-control").closest(".form-group").removeClass("has-error").addClass("has-success"),$(o).removeClass("glyphicon-remove").addClass("glyphicon-ok"),jQuery("#modalTitle").text("Problema no cadastro!"),jQuery("#modalConteudo").text("É necessário concordar com os termos de uso."),g.modal("show"),!1;var _={tx_email_usuario:a,tx_senha_usuario:n,tx_nome_usuario:e,nr_cpf_usuario:r,tx_orgao_trabalha:s,tx_telefone_1:t,tx_telefone_2:l,bo_lista_email:p,bo_lista_pedido_atualizacao_trimestral:h,tx_registro_institucional:d,tx_email_confirmacao:u};0==$("input:radio:checked").val()?_.localidade=m:_.localidade=c,$.ajax({url:controller,type:"POST",dataType:"json",data:{flag:"consultaPost",rota:v.CadastroRepresentanteEstadoMunicipio(),parametros:_},error:function(o){200==o.status?(jQuery("#modalTitle").text("Solicitação realizada com sucesso!"),jQuery("#modalConteudo").text(""),jQuery("#modalConteudo").text("Por favor, verifique o e-mail cadastrado.")):(jQuery("#modalTitle").text("Problema no cadastro!"),jQuery("#modalConteudo").text(""),jQuery("#modalConteudo").text(JSON.parse(o.responseText).msg)),g.modal("show")},success:function(o){jQuery("#modalTitle").text("Cadastro de Representante"),jQuery("#modalConteudo").text(""),jQuery("#modalConteudo").text(o.msg),g.modal("show")}})})})});var jsonModalAjuda={"Email de Confirmação":'Email institucional (gov.br) da chefia imediata ou de superior mais próximo que possua email <b>".gov.br"</b>.<br>Caso o Estado ou Município não possua email institucional, informe pelo email mapaosc@ipea.com.br.',"Registro Institucional":"Um registro que comprove a vinculação do representante do Estado ou Município com o ente federativo. Sugere-se utilizar o número de matrícula do servidor ou identificador similar. Não Obrigatório.","Órgão em que Trabalha":"Informar o setor que trabalha e a Secretaria Estadual ou Municipal à qual está vinculado/a.",Email:'Email institucional do/a responsável por encaminhar ao Mapa das OSCs o banco de dados com as parcerias entre OSCs e o governo estadual/municipal. Solicitamos, preferencialmente, um contato institucional terminado em <b>".gov.br"</b>.<br>Caso não seja possível, pode-se utilizar o email pessoal para efetuar o cadastro.',Senha:"A senha deve conter no mínimo <b>6</b> caracteres.","Unidade Administrativa":"Informe o Estado ou Município a qual representa.<br>Primeiro passo: escolha entre Estado ou município.<br>Segundo passo: Digite o nome da unidade federativa. Após digitar, selecione o nome da sua unidade federativa."};function abrirModalAjuda(o){acionarModalAjuda("Ajuda - "+o,jsonModalAjuda[o],"<button type='button' class='btn btn-danger' data-dismiss='modal'>Fechar</button>")}function acionarModalAjuda(o,e,a){$("#modalTitulo").html(""),$("#modalTitulo").html(o),$("#corpoModal").html(""),$("#corpoModal").html(e),$("#btnFooter").html(""),$("#btnFooter").html(a),$("#modalAjuda").modal("show"),verificarContraste()}